<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>About Us | Fredrick Onyango</title>
  <style>
    body { font-family: "Times New Roman", Times, serif; background: linear-gradient(135deg,#4b2e83,#1e1e2f); color:#f0f0f5; padding:30px;}
    h1,h2{color:#ffcc00;}
    input,button{padding:10px;margin:5px 0;width:100%;max-width:400px;border-radius:5px;border:none;}
    button{background:#ffcc00;color:#1e1e2f;font-weight:bold;cursor:pointer;}
    button:hover{background:#e6b800;}
    .condition-card{background:rgba(44,44,62,0.9);padding:15px;margin:10px 0;border-radius:10px;border:1px solid #555;}
    a{color:#ffcc00;text-decoration:none;}
    a:hover{text-decoration:underline;}
  </style>
</head>
<body>
  <h1>About Us</h1>
  <p>Founded by Fredrick Onyango, our team brings expertise in machine learning, health informatics, and software development. We collaborate on projects that solve real-world problems in healthcare, social tech, and data analytics.</p>

  <h2>Search for a Disease</h2>
  <input type="text" id="disease-input" placeholder="Enter disease name">
  <button id="search-btn">Search</button>

  <div id="search-results"></div>

  <p><a href="index.html">‚Üê Back to Home</a></p>

  <script>
    const btn = document.getElementById("search-btn");
    const input = document.getElementById("disease-input");
    const results = document.getElementById("search-results");

    btn.addEventListener("click", async () => {
      const term = input.value.trim();
      if (!term) return alert("Please enter a disease name.");

      results.innerHTML = "Searching...";

      try {
        // Replace this with your deployed proxy URL
        const proxyURL = `https://your-proxy-url.com/search/${encodeURIComponent(term)}`;
        const res = await fetch(proxyURL);
        const data = await res.json();

        if (!data.items || data.items.length === 0) {
          results.innerHTML = "No diseases found.";
          return;
        }

        results.innerHTML = data.items.map(item => `
          <div class="condition-card">
            <strong>${item.fsn}</strong><br>
            SNOMED: ${item.conceptId}<br>
            Parents: ${item.parents?.join(", ") || 'N/A'}<br>
            Children: ${item.children?.join(", ") || 'N/A'}<br>
            Attributes: ${item.attributes ? JSON.stringify(item.attributes) : 'N/A'}
          </div>
        `).join('');
      } catch (err) {
        results.innerHTML = "Error fetching data from proxy.";
        console.error(err);
      }
    });
  </script>
</body>
</html>
